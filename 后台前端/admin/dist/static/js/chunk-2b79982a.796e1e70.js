(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b79982a"],{"09f4":function(e,t,i){"use strict";i.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,i,a){return e/=a/2,e<1?i/2*e*e+t:(e--,-i/2*(e*(e-2)-1)+t)};var a=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,i){var o=l(),r=e-o,s=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=s;var l=Math.easeInOutQuad(c,o,r,t);n(l),c<t?a(e):i&&"function"===typeof i&&i()};u()}},1:function(e,t){},1239:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("div",{staticClass:"filter-container"},[i("el-checkbox-group",[i("el-select",{ref:"select",attrs:{placeholder:"查询车型"},model:{value:e.listQuery.carTypeId,callback:function(t){e.$set(e.listQuery,"carTypeId",t)},expression:"listQuery.carTypeId"}},e._l(e.carList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),i("el-select",{ref:"select",attrs:{placeholder:"查询科目"},model:{value:e.listQuery.subjectTypeId,callback:function(t){e.$set(e.listQuery,"subjectTypeId",t)},expression:"listQuery.subjectTypeId"}},e._l(e.subLIst,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),i("div",{staticClass:"filter-container"},[i("el-button",{on:{click:e.getList}},[e._v(" 查询")]),i("el-button",{on:{click:e.showExcel}},[e._v(" 导入题库")]),i("el-button",{on:{click:function(){e.imageDialogVisible=!0}}},[e._v(" 导入图片")])],1),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.excelDialogVisible,title:"导入题型"},on:{"update:visible":function(t){e.excelDialogVisible=t},dragDialog:e.handleDrag}},[i("el-select",{ref:"select",attrs:{placeholder:"请选择车型"},model:{value:e.inputExcel.carTypeId,callback:function(t){e.$set(e.inputExcel,"carTypeId",t)},expression:"inputExcel.carTypeId"}},e._l(e.carList,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),i("el-select",{ref:"select",attrs:{placeholder:"请选择科目"},model:{value:e.inputExcel.subjectTypeId,callback:function(t){e.$set(e.inputExcel,"subjectTypeId",t)},expression:"inputExcel.subjectTypeId"}},e._l(e.subLIst,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),i("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),i("el-button",{on:{click:e.handleDrag}},[e._v(" 取消")]),e._v(" "),i("el-button",{on:{click:e.upload}},[e._v(" 确定")])],1),i("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.imageDialogVisible,title:"导入图片Zip"},on:{"update:visible":function(t){e.imageDialogVisible=t},dragDialog:function(){e.imageDialogVisible=!1}}},[i("upload-excel-component",{attrs:{"before-upload":e.beforeUploadImage}}),i("el-button",{on:{click:function(){e.imageDialogVisible=!1}}},[e._v(" 取消")]),e._v(" "),i("el-button",{on:{click:e.upload}},[e._v(" 确定")])],1),i("el-table",{key:e.key,staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),i("el-table-column",{attrs:{prop:"carType.name",label:"车型",width:"180"}}),i("el-table-column",{attrs:{prop:"carType.subname",label:"执照",width:"180"}}),i("el-table-column",{attrs:{prop:"choiceTyopeEnmName",label:"类型",width:"180"}}),i("el-table-column",{attrs:{label:"选项",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.options,(function(t,a){return i("div",{key:a},[e._v(" "+e._s(t.isCorrect?"正确":"错误")+" - "+e._s(t.title)+" ")])}))}}])})],1),[i("pagination",{attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})]],2)},n=[],l=(i("4de4"),i("d3b7"),i("b0c0"),i("498a"),i("2ca0"),i("25f0"),i("b775")),o=i("4ec3"),r=i.n(o);function s(e){return Object(l["a"])({url:r.a.api.Practice.list,method:"post",data:e})}function c(e){return Object(l["a"])({url:r.a.api.Practice.excel,method:"post",data:e})}var u=i("da71"),d=i("3796"),p=i("333d"),f=["apple","banana"],h={components:{UploadExcelComponent:d["a"],Pagination:p["a"]},data:function(){return{tableData:[],excelDialogVisible:!1,key:1,formTheadOptions:["apple","banana","orange"],checkboxVal:f,formThead:f,total:0,listQuery:{limit:10},carList:[],subLIst:[],imageZip:void 0,inputExcel:{subjectTypeId:void 0,carTypeId:void 0,file:void 0}}},watch:{checkboxVal:function(e){this.formThead=this.formTheadOptions.filter((function(t){return e.indexOf(t)>=0})),this.key=this.key+1}},created:function(){this.initType(),this.getList()},methods:{initType:function(){var e=this;Object(u["e"])().then((function(t){e.carList=t.items})),Object(u["g"])().then((function(t){e.subLIst=t.items}))},getList:function(){var e=this;s(this.listQuery).then((function(t){e.tableData=t.items,e.total=t.totalCount}))},showExcel:function(){0===this.carList.length&&this.initType(),this.excelDialogVisible=!0},handleDrag:function(){this.excelDialogVisible=!1},beforeUpload:function(e){var t=e.size/1024/1024<10;return t?(this.inputExcel.file=e,console.log(e),!0):(this.$message({message:"上传的文件不可高于10M",type:"warning"}),!1)},beforeUploadImage:function(e){var t=e.size/1024/1024<10;return t?(this.imageZip=e,!0):(this.$message({message:"上传的文件不可高于10M",type:"warning"}),!1)},uploadIamge:function(){var e=this,t=new FormData;t.append("file",this.imageZip),t.append("filename",this.imageZip.name),c(t).then((function(t){t>0&&(e.$message({message:"成功！",type:"success"}),e.imageDialogVisible=!1)}))},upload:function(){var e=this;console.log(this.inputExcel),c(this.inputExcel).then((function(t){t>0&&(e.$message({message:"成功！",type:"success"}),e.handleDrag(),e.getList())}))},handleSuccess:function(e){var t=e.results;e.header;this.inputExcel.ResultsLists=[];for(var i=0;i<t.length;i++){var a={Title:t[i].题目,Skill:t[i].答题技巧一,SkillLast:t[i].答题技巧二,Images:t[i].图片,TypeName:t[i].题型,Introduce:t[i].题目解析,Options:[]},n=1;t[i].选项一&&t[i].选项一.trim().length>1&&a.Options.push({index:n++,Title:t[i].选项一,IsCorrect:t[i].选项一.toString().trim().startsWith(t[i].正确答案.toString().trim())}),t[i].选项二&&t[i].选项二.trim().length>1&&a.Options.push({index:n++,Title:t[i].选项二,IsCorrect:t[i].选项二.toString().trim().startsWith(t[i].正确答案.toString().trim())}),t[i].选项三&&t[i].选项三.trim().length>1&&a.Options.push({index:n++,Title:t[i].选项三,IsCorrect:t[i].选项三.toString().trim().startsWith(t[i].正确答案.toString().trim())}),t[i].选项四&&t[i].选项四.trim().length>1&&a.Options.push({index:n++,Title:t[i].选项四,IsCorrect:t[i].选项四.toString().trim().startsWith(t[i].正确答案.toString().trim())}),this.inputExcel.ResultsLists.push(a)}console.log(this.inputExcel)}}},m=h,g=i("2877"),b=Object(g["a"])(m,a,n,!1,null,null,null);t["default"]=b.exports},2:function(e,t){},3:function(e,t){},3796:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),i("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" "+e._s(e.filename)+" "),i("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" 点击上传 ")])],1)])},n=[],l=(i("b0c0"),i("d3b7"),i("ac1f"),i("00b4"),i("1146")),o=i.n(l),r={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,filename:"拖拽Excel文件在这 或",excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,i=e.results;this.excelData.header=t,this.excelData.results=i,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var i=t[0];if(!this.isExcel(i))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(i),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,i=t[0];i&&this.upload(i)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);this.filename=e.name,t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(i,a){var n=new FileReader;n.onload=function(e){var a=e.target.result,n=o.a.read(a,{type:"array"}),l=n.SheetNames[0],r=n.Sheets[l],s=t.getHeaderRow(r),c=o.a.utils.sheet_to_json(r);t.generateData({header:s,results:c}),t.loading=!1,i()},n.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,i=[],a=o.a.utils.decode_range(e["!ref"]),n=a.s.r;for(t=a.s.c;t<=a.e.c;++t){var l=e[o.a.utils.encode_cell({c:t,r:n})],r="UNKNOWN "+t;l&&l.t&&(r=o.a.utils.format_cell(l)),i.push(r)}return i},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},s=r,c=(i("7da3"),i("2877")),u=Object(c["a"])(s,a,n,!1,null,"226d1b5f",null);t["a"]=u.exports},"7da3":function(e,t,i){"use strict";i("b1d6")},b1d6:function(e,t,i){},da71:function(e,t,i){"use strict";i.d(t,"e",(function(){return o})),i.d(t,"g",(function(){return r})),i.d(t,"f",(function(){return s})),i.d(t,"b",(function(){return c})),i.d(t,"d",(function(){return u})),i.d(t,"a",(function(){return d})),i.d(t,"c",(function(){return p}));var a=i("b775"),n=i("4ec3"),l=i.n(n);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])({url:l.a.api.CarType.list,method:"post",data:e})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a["a"])({url:l.a.api.SubjectType.list,method:"post",data:e})}function s(e){return Object(a["a"])({url:l.a.api.Enums.getenum+"?className="+e,method:"get"})}function c(e){return Object(a["a"])({url:l.a.api.SubjectType.create,method:"post",data:e})}function u(e){return Object(a["a"])({url:l.a.api.SubjectType.delete+"?id="+e.id,method:"post",data:e})}function d(e){return Object(a["a"])({url:l.a.api.CarType.create,method:"post",data:e})}function p(e){return Object(a["a"])({url:l.a.api.CarType.delete+"?id="+e.id,method:"post",data:e})}}}]);