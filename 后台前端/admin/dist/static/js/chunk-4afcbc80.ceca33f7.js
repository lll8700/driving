(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4afcbc80"],{"09f4":function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),Math.easeInOutQuad=function(e,t,a,i){return e/=i/2,e<1?a/2*e*e+t:(e--,-a/2*(e*(e-2)-1)+t)};var i=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function n(e){document.documentElement.scrollTop=e,document.body.parentNode.scrollTop=e,document.body.scrollTop=e}function l(){return document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop}function o(e,t,a){var o=l(),r=e-o,s=20,c=0;t="undefined"===typeof t?500:t;var u=function e(){c+=s;var l=Math.easeInOutQuad(c,o,r,t);n(l),c<t?i(e):a&&"function"===typeof a&&a()};u()}},1:function(e,t){},1239:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("div",{staticClass:"filter-container"},[a("el-checkbox-group",[a("el-select",{ref:"select",attrs:{placeholder:"查询车型"},model:{value:e.listQuery.carTypeId,callback:function(t){e.$set(e.listQuery,"carTypeId",t)},expression:"listQuery.carTypeId"}},e._l(e.carList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{ref:"select",attrs:{placeholder:"查询科目"},model:{value:e.listQuery.subjectTypeId,callback:function(t){e.$set(e.listQuery,"subjectTypeId",t)},expression:"listQuery.subjectTypeId"}},e._l(e.subLIst,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),a("div",{staticClass:"filter-container"},[a("el-button",{on:{click:e.getList}},[e._v(" 查询")]),a("el-button",{on:{click:e.showExcel}},[e._v(" 导入题库")]),a("el-button",{on:{click:function(){e.imageDialogVisible=!0}}},[e._v(" 导入图片")])],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.excelDialogVisible,title:"导入题型"},on:{"update:visible":function(t){e.excelDialogVisible=t},dragDialog:e.handleDrag}},[a("el-select",{ref:"select",attrs:{placeholder:"请选择车型"},model:{value:e.inputExcel.carTypeId,callback:function(t){e.$set(e.inputExcel,"carTypeId",t)},expression:"inputExcel.carTypeId"}},e._l(e.carList,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("el-select",{ref:"select",attrs:{placeholder:"请选择科目"},model:{value:e.inputExcel.subjectTypeId,callback:function(t){e.$set(e.inputExcel,"subjectTypeId",t)},expression:"inputExcel.subjectTypeId"}},e._l(e.subLIst,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1),a("upload-excel-component",{attrs:{"on-success":e.handleSuccess,"before-upload":e.beforeUpload}}),a("el-button",{on:{click:e.handleDrag}},[e._v(" 取消")]),a("el-button",{on:{click:e.upload}},[e._v(" 确定")])],1),a("el-dialog",{directives:[{name:"el-drag-dialog",rawName:"v-el-drag-dialog"}],attrs:{visible:e.imageDialogVisible,title:"导入图片Zip"},on:{"update:visible":function(t){e.imageDialogVisible=t},dragDialog:function(){e.imageDialogVisible=!1}}},[a("upload-zip-component",{attrs:{"before-upload":e.beforeUploadImage}}),a("el-button",{on:{click:function(){e.imageDialogVisible=!1}}},[e._v(" 取消")]),a("el-button",{on:{click:e.uploadIamge}},[e._v(" 确定")])],1),a("el-table",{key:e.key,staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",fit:"","highlight-current-row":""}},[a("el-table-column",{attrs:{prop:"title",label:"标题",width:"180"}}),a("el-table-column",{attrs:{prop:"carType.name",label:"车型",width:"180"}}),a("el-table-column",{attrs:{prop:"carType.subname",label:"执照",width:"180"}}),a("el-table-column",{attrs:{prop:"choiceTyopeEnmName",label:"类型",width:"180"}}),a("el-table-column",{attrs:{label:"选项",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.options,(function(t,i){return a("div",{key:i},[e._v(" "+e._s(t.isCorrect?"正确":"错误")+" - "+e._s(t.title)+" ")])}))}}])})],1),[a("pagination",{attrs:{total:e.total,page:e.listQuery.page,limit:e.listQuery.limit},on:{"update:page":function(t){return e.$set(e.listQuery,"page",t)},"update:limit":function(t){return e.$set(e.listQuery,"limit",t)},pagination:e.getList}})]],2)},n=[],l=(a("4de4"),a("d3b7"),a("498a"),a("2ca0"),a("25f0"),a("b775")),o=a("4ec3"),r=a.n(o);function s(e){return Object(l["a"])({url:r.a.api.Practice.list,method:"post",data:e})}function c(e){return Object(l["a"])({url:r.a.api.Practice.excel,method:"post",data:e})}function u(e){return Object(l["a"])({url:r.a.api.Practice.zip,method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}var d=a("da71"),p=a("3796"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".zip"},on:{change:e.handleClick}}),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" "+e._s(e.filename)+" "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" 点击上传 ")])],1)])},h=[],g=(a("b0c0"),{props:{beforeUpload:Function},data:function(){return{loading:!1,filename:"拖拽Excel文件在这 或",excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){this.$refs["excel-upload-input"].value=null,this.filename=e.name,this.beforeUpload(e)}}}),m=g,b=(a("5a4f"),a("2877")),v=Object(b["a"])(m,f,h,!1,null,"31822c27",null),y=v.exports,x=a("333d"),D=["apple","banana"],T={components:{UploadExcelComponent:p["a"],Pagination:x["a"],UploadZipComponent:y},data:function(){return{tableData:[],excelDialogVisible:!1,imageDialogVisible:!1,key:1,formTheadOptions:["apple","banana","orange"],checkboxVal:D,formThead:D,total:0,listQuery:{limit:10},carList:[],subLIst:[],imageZip:void 0,inputExcel:{subjectTypeId:void 0,carTypeId:void 0,file:void 0}}},watch:{checkboxVal:function(e){this.formThead=this.formTheadOptions.filter((function(t){return e.indexOf(t)>=0})),this.key=this.key+1}},created:function(){this.initType(),this.getList()},methods:{initType:function(){var e=this;Object(d["e"])().then((function(t){e.carList=t.items})),Object(d["g"])().then((function(t){e.subLIst=t.items}))},getList:function(){var e=this;s(this.listQuery).then((function(t){e.tableData=t.items,e.total=t.totalCount}))},showExcel:function(){0===this.carList.length&&this.initType(),this.excelDialogVisible=!0},handleDrag:function(){this.excelDialogVisible=!1},beforeUpload:function(e){var t=e.size/1024/1024<10;return t?(this.inputExcel.file=e,console.log(e),!0):(this.$message({message:"上传的文件不可高于10M",type:"warning"}),!1)},beforeUploadImage:function(e){var t=e.size/1024/1024<10;return t?(this.imageZip=e,console.log(this.imageZip),!0):(this.$message({message:"上传的文件不可高于10M",type:"warning"}),!1)},uploadIamge:function(){var e=this,t=new FormData;t.append("file",this.imageZip),u(t).then((function(t){t>0&&(e.$message({message:"成功！",type:"success"}),e.imageDialogVisible=!1)}))},upload:function(){var e=this;console.log(this.inputExcel),c(this.inputExcel).then((function(t){t>0&&(e.$message({message:"成功！",type:"success"}),e.handleDrag(),e.getList())}))},handleSuccess:function(e){var t=e.results;e.header;this.inputExcel.ResultsLists=[];for(var a=0;a<t.length;a++){var i={Title:t[a].题目,Skill:t[a].答题技巧一,SkillLast:t[a].答题技巧二,Images:t[a].图片,TypeName:t[a].题型,Introduce:t[a].题目解析,Options:[]},n=1;t[a].选项一&&t[a].选项一.trim().length>1&&i.Options.push({index:n++,Title:t[a].选项一,IsCorrect:t[a].选项一.toString().trim().startsWith(t[a].正确答案.toString().trim())}),t[a].选项二&&t[a].选项二.trim().length>1&&i.Options.push({index:n++,Title:t[a].选项二,IsCorrect:t[a].选项二.toString().trim().startsWith(t[a].正确答案.toString().trim())}),t[a].选项三&&t[a].选项三.trim().length>1&&i.Options.push({index:n++,Title:t[a].选项三,IsCorrect:t[a].选项三.toString().trim().startsWith(t[a].正确答案.toString().trim())}),t[a].选项四&&t[a].选项四.trim().length>1&&i.Options.push({index:n++,Title:t[a].选项四,IsCorrect:t[a].选项四.toString().trim().startsWith(t[a].正确答案.toString().trim())}),this.inputExcel.ResultsLists.push(i)}console.log(this.inputExcel)}}},k=T,w=Object(b["a"])(k,i,n,!1,null,null,null);t["default"]=w.exports},"1cd9":function(e,t,a){"use strict";a("5676")},2:function(e,t){},3:function(e,t){},3796:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("input",{ref:"excel-upload-input",staticClass:"excel-upload-input",attrs:{type:"file",accept:".xlsx, .xls"},on:{change:e.handleClick}}),a("div",{staticClass:"drop",on:{drop:e.handleDrop,dragover:e.handleDragover,dragenter:e.handleDragover}},[e._v(" "+e._s(e.filename)+" "),a("el-button",{staticStyle:{"margin-left":"16px"},attrs:{loading:e.loading,size:"mini",type:"primary"},on:{click:e.handleUpload}},[e._v(" 点击上传 ")])],1)])},n=[],l=(a("b0c0"),a("d3b7"),a("ac1f"),a("00b4"),a("1146")),o=a.n(l),r={props:{beforeUpload:Function,onSuccess:Function},data:function(){return{loading:!1,filename:"拖拽Excel文件在这 或",excelData:{header:null,results:null}}},methods:{generateData:function(e){var t=e.header,a=e.results;this.excelData.header=t,this.excelData.results=a,this.onSuccess&&this.onSuccess(this.excelData)},handleDrop:function(e){if(e.stopPropagation(),e.preventDefault(),!this.loading){var t=e.dataTransfer.files;if(1===t.length){var a=t[0];if(!this.isExcel(a))return this.$message.error("Only supports upload .xlsx, .xls, .csv suffix files"),!1;this.upload(a),e.stopPropagation(),e.preventDefault()}else this.$message.error("Only support uploading one file!")}},handleDragover:function(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect="copy"},handleUpload:function(){this.$refs["excel-upload-input"].click()},handleClick:function(e){var t=e.target.files,a=t[0];a&&this.upload(a)},upload:function(e){if(this.$refs["excel-upload-input"].value=null,this.beforeUpload){var t=this.beforeUpload(e);this.filename=e.name,t&&this.readerData(e)}else this.readerData(e)},readerData:function(e){var t=this;return this.loading=!0,new Promise((function(a,i){var n=new FileReader;n.onload=function(e){var i=e.target.result,n=o.a.read(i,{type:"array"}),l=n.SheetNames[0],r=n.Sheets[l],s=t.getHeaderRow(r),c=o.a.utils.sheet_to_json(r);t.generateData({header:s,results:c}),t.loading=!1,a()},n.readAsArrayBuffer(e)}))},getHeaderRow:function(e){var t,a=[],i=o.a.utils.decode_range(e["!ref"]),n=i.s.r;for(t=i.s.c;t<=i.e.c;++t){var l=e[o.a.utils.encode_cell({c:t,r:n})],r="UNKNOWN "+t;l&&l.t&&(r=o.a.utils.format_cell(l)),a.push(r)}return a},isExcel:function(e){return/\.(xlsx|xls|csv)$/.test(e.name)}}},s=r,c=(a("1cd9"),a("2877")),u=Object(c["a"])(s,i,n,!1,null,"64b85a3f",null);t["a"]=u.exports},"41b8":function(e,t,a){},5676:function(e,t,a){},"5a4f":function(e,t,a){"use strict";a("41b8")},da71:function(e,t,a){"use strict";a.d(t,"e",(function(){return o})),a.d(t,"g",(function(){return r})),a.d(t,"f",(function(){return s})),a.d(t,"b",(function(){return c})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return p}));var i=a("b775"),n=a("4ec3"),l=a.n(n);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:l.a.api.CarType.list,method:"post",data:e})}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i["a"])({url:l.a.api.SubjectType.list,method:"post",data:e})}function s(e){return Object(i["a"])({url:l.a.api.Enums.getenum+"?className="+e,method:"get"})}function c(e){return Object(i["a"])({url:l.a.api.SubjectType.create,method:"post",data:e})}function u(e){return Object(i["a"])({url:l.a.api.SubjectType.delete+"?id="+e.id,method:"post",data:e})}function d(e){return Object(i["a"])({url:l.a.api.CarType.create,method:"post",data:e})}function p(e){return Object(i["a"])({url:l.a.api.CarType.delete+"?id="+e.id,method:"post",data:e})}}}]);